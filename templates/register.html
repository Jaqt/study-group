{% extends "layout.html" %}

{% block title %}Register{% endblock %}

{% block content %}

<h2>Create an account</h2>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div>
    {% for category, message in messages %}
      <p class="flash-{{ category }}">{{ message }}</p>
    {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<form action="/create_account" method="post">
  <p>
    Account name: <br />
    <input type="text" name="username" value="{{ filled.username }}" maxlength="16" required/>
  </p>
  <p>
    Password: <br />
    <input type="password" name="password1" maxlength="128" required/>
  </p>
  <p>
    Password again: <br />
    <input type="password" name="password2" maxlength="128" required/>
  </p>
  <input type="submit" value="Create account" />
</form>

{% endblock %}